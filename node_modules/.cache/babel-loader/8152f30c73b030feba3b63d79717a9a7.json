{"ast":null,"code":"import _regeneratorRuntime from \"/home/lorensov/projects/hub/visao/visao-rappel/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/lorensov/projects/hub/visao/visao-rappel/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport axios from 'axios';\nimport { log } from 'util';\nimport https from 'https';\nvar data = {\n  url: 'https://api.adeodev.org/'\n};\nvar api = axios.create({\n  baseURL: data.url,\n  headers: {\n    'Content-Type': 'application/json',\n    Accept: 'application/json'\n  },\n  responseType: 'json'\n});\napi.interceptors.request.use(\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(config) {\n    var token;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return localStorage.getItem('auth_token');\n\n          case 2:\n            token = _context.sent;\n\n            if (token !== null) {\n              config.headers.Authorization = \"Bearer \".concat(token);\n            }\n\n            return _context.abrupt(\"return\", config);\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}(), function (error) {\n  return Promise.reject(error);\n});\napi.interceptors.response.use(function (config) {\n  return config;\n}, function (error) {\n  return Promise.reject(error);\n});\nexport default api;","map":{"version":3,"sources":["/home/lorensov/projects/hub/visao/visao-rappel/src/services/api.js"],"names":["axios","log","https","data","url","api","create","baseURL","headers","Accept","responseType","interceptors","request","use","config","localStorage","getItem","token","Authorization","error","Promise","reject","response"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,GAAT,QAAoB,MAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAGA,IAAMC,IAAI,GAAG;AACXC,EAAAA,GAAG,EAAE;AADM,CAAb;AAIA,IAAMC,GAAG,GAAGL,KAAK,CAACM,MAAN,CAAa;AACvBC,EAAAA,OAAO,EAAEJ,IAAI,CAACC,GADS;AAEvBI,EAAAA,OAAO,EAAE;AACP,oBAAgB,kBADT;AAEPC,IAAAA,MAAM,EAAE;AAFD,GAFc;AAMvBC,EAAAA,YAAY,EAAE;AANS,CAAb,CAAZ;AASAL,GAAG,CAACM,YAAJ,CAAiBC,OAAjB,CAAyBC,GAAzB;AAAA;AAAA;AAAA;AAAA;AAAA,2BACE,iBAAMC,MAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACsBC,YAAY,CAACC,OAAb,CAAqB,YAArB,CADtB;;AAAA;AACQC,YAAAA,KADR;;AAEE,gBAAIA,KAAK,KAAK,IAAd,EAAoB;AAClBH,cAAAA,MAAM,CAACN,OAAP,CAAeU,aAAf,oBAAyCD,KAAzC;AACD;;AAJH,6CAKSH,MALT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GADF;;AAAA;AAAA;AAAA;AAAA,KAQE,UAAAK,KAAK;AAAA,SAAIC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAJ;AAAA,CARP;AAUAd,GAAG,CAACM,YAAJ,CAAiBW,QAAjB,CAA0BT,GAA1B,CAA8B,UAAAC,MAAM;AAAA,SAAIA,MAAJ;AAAA,CAApC,EAAgD,UAAAK,KAAK;AAAA,SAAIC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAJ;AAAA,CAArD;AAEA,eAAed,GAAf","sourcesContent":["import axios from 'axios';\nimport { log } from 'util';\nimport https from 'https';\n\n\nconst data = {\n  url: 'https://api.adeodev.org/',\n};\n\nconst api = axios.create({\n  baseURL: data.url,\n  headers: {\n    'Content-Type': 'application/json',\n    Accept: 'application/json',\n  },\n  responseType: 'json',\n});\n\napi.interceptors.request.use(\n  async config => {\n    const token = await localStorage.getItem('auth_token');\n    if (token !== null) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  },\n  error => Promise.reject(error),\n);\napi.interceptors.response.use(config => config, error => Promise.reject(error));\n\nexport default api;\n"]},"metadata":{},"sourceType":"module"}