{"ast":null,"code":"import _regeneratorRuntime from \"/home/lorensov/projects/hub/visao/visao-rappel/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/lorensov/projects/hub/visao/visao-rappel/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/lorensov/projects/hub/visao/visao-rappel/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/lorensov/projects/hub/visao/visao-rappel/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/lorensov/projects/hub/visao/visao-rappel/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/lorensov/projects/hub/visao/visao-rappel/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/lorensov/projects/hub/visao/visao-rappel/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/lorensov/projects/hub/visao/visao-rappel/src/components/Rappel/index.js\";\nimport React, { Component } from 'react';\nimport '../../App.css';\nimport { Button, Row, Col, Card, Icon, notification, AutoComplete, Steps } from 'antd';\nimport Loading from '../Loading';\nvar Step = Steps.Step;\n\nvar Rappel =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Rappel, _Component);\n\n  function Rappel() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Rappel);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Rappel)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      loading: true,\n      step: 0\n    };\n    _this.componentDidMount =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetch('http://localhost:8000/fornecedores_total').then(function (res) {\n                return res.json();\n              }).then(function (res) {\n                return _this.setState({\n                  fornecedores: res.data.rows\n                });\n              }).catch(function (err) {\n                return console.error(err);\n              });\n\n            case 2:\n              _this.setState({\n                loading: false\n              });\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    _this.handleSelectList =\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(cnpj) {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return _this.setState({\n                  selected: cnpj\n                });\n\n              case 2:\n                _context2.next = 4;\n                return _this.props.fetchFornecedor(_this.state.selected);\n\n              case 4:\n                _this.setState({\n                  isLoadedFornecedor: true\n                }); // console.log(this.props.rappel.fornecedor);\n\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    return _this;\n  }\n\n  _createClass(Rappel, [{\n    key: \"formatMoney\",\n    value: function formatMoney(amount) {\n      var decimalCount = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n      var decimal = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \",\";\n      var thousands = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \".\";\n\n      try {\n        decimalCount = Math.abs(decimalCount);\n        decimalCount = isNaN(decimalCount) ? 2 : decimalCount;\n        var negativeSign = amount < 0 ? \"-\" : \"\";\n        var i = parseInt(amount = Math.abs(Number(amount) || 0).toFixed(decimalCount)).toString();\n        var j = i.length > 3 ? i.length % 3 : 0;\n        return negativeSign + (j ? i.substr(0, j) + thousands : '') + i.substr(j).replace(/(\\d{3})(?=\\d)/g, \"$1\" + thousands) + (decimalCount ? decimal + Math.abs(amount - i).toFixed(decimalCount).slice(2) : \"\");\n      } catch (e) {\n        console.log(e);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return this.state.loading ? React.createElement(Loading, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(Steps, {\n        current: this.state.step,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(Step, {\n        title: \"Faixa 1\",\n        description: \"At\\xE9 R$ \".concat(this.formatMoney(1)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }), React.createElement(Step, {\n        title: \"Faixa 2\",\n        description: \"De R$ \".concat(this.formatMoney(2), \" at\\xE9 R$ \").concat(this.formatMoney(3)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }), React.createElement(Step, {\n        title: \"Faixa 3\",\n        description: \"A partir de R$ \".concat(this.formatMoney(4)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      })), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(AutoComplete, {\n        style: {\n          width: 320\n        },\n        dataSource: this.state.dataSource,\n        onSelect: this.handleSelectAutoComplete,\n        onSearch: function onSearch(input) {\n          return _this2.handleSearch(input);\n        },\n        placeholder: \"C\\xF3digo fornecedor\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Rappel;\n}(Component);\n\nexport default Rappel;","map":{"version":3,"sources":["/home/lorensov/projects/hub/visao/visao-rappel/src/components/Rappel/index.js"],"names":["React","Component","Button","Row","Col","Card","Icon","notification","AutoComplete","Steps","Loading","Step","Rappel","state","loading","step","componentDidMount","fetch","then","res","json","setState","fornecedores","data","rows","catch","err","console","error","handleSelectList","cnpj","selected","props","fetchFornecedor","isLoadedFornecedor","amount","decimalCount","decimal","thousands","Math","abs","isNaN","negativeSign","i","parseInt","Number","toFixed","toString","j","length","substr","replace","slice","e","log","formatMoney","width","dataSource","handleSelectAutoComplete","input","handleSearch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport '../../App.css';\nimport { Button, Row, Col, Card, Icon, notification, AutoComplete, Steps } from 'antd';\nimport Loading from '../Loading';\nconst Step = Steps.Step;\nclass Rappel extends Component {\n  state = {\n    loading: true,\n    step : 0,\n  };\n  componentDidMount = async () => {\n    await fetch('http://localhost:8000/fornecedores_total')\n      .then(res => res.json())\n      .then(res => this.setState({ fornecedores: res.data.rows }))\n      .catch(err => console.error(err));\n    this.setState({ loading: false });\n  };\n\n\n\n\n  handleSelectList = async cnpj => {\n    await this.setState({ selected: cnpj });\n    await this.props.fetchFornecedor(this.state.selected);\n    this.setState({ isLoadedFornecedor: true });\n    // console.log(this.props.rappel.fornecedor);\n  };\n\n  formatMoney(amount, decimalCount = 2, decimal = \",\", thousands = \".\") {\n    try {\n      decimalCount = Math.abs(decimalCount);\n      decimalCount = isNaN(decimalCount) ? 2 : decimalCount;\n\n      const negativeSign = amount < 0 ? \"-\" : \"\";\n\n      let i = parseInt(amount = Math.abs(Number(amount) || 0).toFixed(decimalCount)).toString();\n      let j = (i.length > 3) ? i.length % 3 : 0;\n\n      return negativeSign + (j ? i.substr(0, j) + thousands : '') + i.substr(j).replace(/(\\d{3})(?=\\d)/g, \"$1\" + thousands) + (decimalCount ? decimal + Math.abs(amount - i).toFixed(decimalCount).slice(2) : \"\");\n    } catch (e) {\n      console.log(e)\n    }\n  };\n\n\n  render() {\n    return (\n      this.state.loading ? (\n        <Loading />\n      ) : (\n      <div>\n        <Steps current={this.state.step}>\n              <Step title=\"Faixa 1\" description={`Até R$ ${this.formatMoney(1)}`} />\n              <Step\n                title=\"Faixa 2\"\n                description={`De R$ ${this.formatMoney(2)} até R$ ${this.formatMoney(3)}`}\n              />\n              <Step title=\"Faixa 3\" description={`A partir de R$ ${this.formatMoney(4)}`} />\n        </Steps>\n\n         <Row>\n          <AutoComplete\n            style={{ width: 320 }}\n            dataSource={this.state.dataSource}\n            onSelect={this.handleSelectAutoComplete}\n            onSearch={input => this.handleSearch(input)}\n            placeholder=\"Código fornecedor\"\n          />\n        </Row>\n      </div>\n      )\n    );\n  }\n}\n\nexport default (Rappel);\n"]},"metadata":{},"sourceType":"module"}